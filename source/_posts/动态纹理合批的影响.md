---
title: 动态纹理合批的影响
date: 2025-11-19 17:47:26
tags:
  - Cocos Creator
  - Shader
  - 图形优化
---

## 4.3 动态纹理合批的影响

在 Cocos Creator 中，如果对 `SpriteFrame` 资源启用 **Packable** 属性，则会在运行时对纹理进行动态合批以提升性能：

纹理合批（Texture Batching）表示将多张不同的小纹理（贴图）合并到一张大纹理图集（Atlas）中，可以减少 GPU 切换纹理、Draw Call 的次数，从而提升渲染效率。

但是动态合批后，小纹理被「裁剪」并重新排布到大图中的某个区域，原本 `[0, 1]` 区间的 UV 坐标必须映射到新图集中对应的子区域 UV。

这会导致一个问题——如果纹理使用了着色器，且对 UV 做了偏移、缩放等处理，则纹理合批后会导致着色器效果异常。

因此如果发现你的着色器效果跟在编辑器中调试的效果不一致（在编辑器中表现正常，在其它平台表现异常），可以先检查下相关 `SpriteFrame` 资源是否勾选上了 Packable 属性。

> 💡 如果你的着色器直接用了传入的 UV，且没有做额外的变换，则无需担心动态合批的影响，因为引擎会帮你处理好这块的转换。
>
> 💡 基于同样的原因，静态合图（例如在图片资源文件夹下创建的自动图集配置 `auto-atlas.pac`）也会导致一样的问题。

---

**作者**：VaJoy  
**链接**：<https://juejin.cn/post/7514260735943081984>  
**来源**：稀土掘金  
**著作权声明**：著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

